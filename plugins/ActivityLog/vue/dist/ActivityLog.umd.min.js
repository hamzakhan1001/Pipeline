(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("CoreHome"),require("vue")):"function"===typeof define&&define.amd?define(["CoreHome"],t):"object"===typeof exports?exports["ActivityLog"]=t(require("CoreHome"),require("vue")):e["ActivityLog"]=t(e["CoreHome"],e["Vue"])})("undefined"!==typeof self?self:this,(function(e,t){return function(e){var t={};function a(n){if(t[n])return t[n].exports;var c=t[n]={i:n,l:!1,exports:{}};return e[n].call(c.exports,c,c.exports,a),c.l=!0,c.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)a.d(n,c,function(t){return e[t]}.bind(null,c));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="plugins/ActivityLog/vue/dist/",a(a.s="fae3")}({"19dc":function(t,a){t.exports=e},"8bbf":function(e,a){e.exports=t},fae3:function(e,t,a){"use strict";if(a.r(t),a.d(t,"ActivityLog",(function(){return Ga})),a.d(t,"ActivityLogPage",(function(){return $a})),"undefined"!==typeof window){var n=window.document.currentScript,c=n&&n.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);c&&(a.p=c[1])}var i=a("8bbf"),o={class:"ActivityLog"},r={class:"paging-wrapper"},l={class:"activity-list"},s=["onMouseleave"],m=["src","onClick"],d=["src","title"],p=["onMouseover","onMouseleave","data-timestamp"],b=Object(i["createElementVNode"])("span",null,"(UTC)",-1),u=["onMouseover","onMouseleave","data-timestamp"],j={class:"activity-action"},O=["onClick"],y={key:0},v={key:1},g={key:2},f={key:0},k=["onMouseleave"],h={key:0,class:"paging-wrapper"};function E(e,t,a,n,c,E){var S=Object(i["resolveComponent"])("Paging");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",o,[Object(i["createElementVNode"])("div",r,[Object(i["createVNode"])(S)]),Object(i["createElementVNode"])("div",l,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.activities,(function(t){var a;return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["activity row",{loading:e.busy}]),key:t.id},[Object(i["createElementVNode"])("div",{class:"col m6",onMouseleave:function(a){return e.showTimezone[t.id]=!1}},[t.avatar?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",{key:0,width:"40",class:"activity-avatar",src:t.avatar,onClick:function(a){return e.applyFilter(t.user_login)}},null,8,m)):Object(i["createCommentVNode"])("",!0),t.ip||t.country?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",{key:1,class:"activity-country",src:t.country_flag,title:e.getActivityCountryTooltip(t)},null,8,d)):Object(i["createCommentVNode"])("",!0),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",{class:"activity-time",onMouseover:function(a){return e.showTimezone[t.id]=!0},onMouseleave:function(a){return e.showTimezone[t.id]=!1},"data-timestamp":t.datetime},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(t.datetime_pretty)+" ",1),b],40,p),[[i["vShow"],!e.showTimezone[t.id]||!t.time_relative_pretty]]),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",{class:"activity-time",onMouseover:function(a){return e.showTimezone[t.id]=!0},onMouseleave:function(a){return e.showTimezone[t.id]=!1},"data-timestamp":t.datetime},Object(i["toDisplayString"])(t.time_relative_pretty),41,u),[[i["vShow"],e.showTimezone[t.id]&&t.time_relative_pretty]]),Object(i["createElementVNode"])("div",j,[Object(i["createElementVNode"])("span",{class:"activity-action-login",onClick:function(a){return e.applyFilter(t.user_login)}},["Console Command"===t.user_login?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",y,[Object(i["createElementVNode"])("strong",null,Object(i["toDisplayString"])(e.translate("ActivityLog_ConsoleCommand")),1)])):Object(i["createCommentVNode"])("",!0),"Matomo System"===t.user_login?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",v,[Object(i["createElementVNode"])("strong",null,Object(i["toDisplayString"])(e.translate("ActivityLog_System")),1)])):Object(i["createCommentVNode"])("",!0),"Console Command"!==t.user_login&&"Matomo System"!==t.user_login?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",g,[Object(i["createElementVNode"])("strong",null,Object(i["toDisplayString"])(t.user_login),1),e.availableUsers.find((function(e){return e.key===t.user_login}))?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",f," ("+Object(i["toDisplayString"])(e.translate("CorePluginsAdmin_Inactive"))+") ",1))])):Object(i["createCommentVNode"])("",!0)],8,O),Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(t.description),1)])],40,s),Object(i["createElementVNode"])("div",{class:"activity-items col m6",onMouseleave:function(a){return e.showTimezone[t.id]=!1}},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])((null===(a=t.parameters)||void 0===a?void 0:a.items)||[],(function(t,a){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"activity-item",key:a},[(Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["resolveDynamicComponent"])(e.itemToComponent[t.type]),{item:t},null,8,["item"]))])})),128))],40,k)],2)})),128)),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",{class:"no-entries activity"},Object(i["toDisplayString"])(e.translate("ActivityLog_NoActivities")),513),[[i["vShow"],!e.activities.length&&!e.busy]])]),e.showPagingBottom?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",h,[Object(i["createVNode"])(S)])):Object(i["createCommentVNode"])("",!0)])}var S=a("19dc"),N=Object(i["createElementVNode"])("span",{class:"item-data-title icon-admin-settings"},null,-1),B={class:"item-name"},V={class:"item-data-text"},C={key:0},D={key:1},_={key:2};function w(e,t,a,n,c,o){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[N,Object(i["createElementVNode"])("span",B,Object(i["toDisplayString"])(e.translate("ActivityLog_Access"))+":",1),Object(i["createElementVNode"])("span",V,["view"===e.item.data.access?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",C,Object(i["toDisplayString"])(e.translate("UsersManager_PrivView")),1)):Object(i["createCommentVNode"])("",!0),"admin"===e.item.data.access?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",D,Object(i["toDisplayString"])(e.translate("UsersManager_PrivAdmin")),1)):Object(i["createCommentVNode"])("",!0),"admin"!==e.item.data.access&&"view"!==e.item.data.access?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",_,Object(i["toDisplayString"])(e.translate("UsersManager_PrivNone")),1)):Object(i["createCommentVNode"])("",!0)])],64)}var A=Object(i["defineComponent"])({props:{item:{type:Object,required:!0}}});A.render=w;var x=A,L=Object(i["createElementVNode"])("span",{class:"item-data-title icon-calendar"},null,-1),P={class:"item-data-text"},F=Object(i["createElementVNode"])("span",{class:"item-data-title icon-annotation"},null,-1),T={class:"item-name"};function I(e,t,a,n,c,o){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[L,Object(i["createElementVNode"])("span",P,Object(i["toDisplayString"])(e.item.data.date)+":",1),F,Object(i["createElementVNode"])("span",T,Object(i["toDisplayString"])(e.item.data.text),1)],64)}var M=Object(i["defineComponent"])({props:{item:{type:Object,required:!0}}});M.render=I;var U=M,G=Object(i["createElementVNode"])("span",{class:"item-data-title icon-admin-settings"},null,-1),q={class:"item-name"},z=["title"];function H(e,t,a,n,c,o){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[G,Object(i["createElementVNode"])("span",q,Object(i["toDisplayString"])(e.translate("ActivityLog_Capability"))+":",1),Object(i["createElementVNode"])("span",{class:"item-data-text",title:e.item.data.description},Object(i["toDisplayString"])(e.item.data.category)+" > "+Object(i["toDisplayString"])(e.item.data.name),9,z)],64)}var R=Object(i["defineComponent"])({props:{item:{type:Object,required:!0}}});R.render=H;var W=R,$=Object(i["createElementVNode"])("span",{class:"item-data-title icon-table"},null,-1),Y={class:"item-name"},J={class:"item-data-title"},K={class:"item-data-text"},Q={class:"item-data-title"},X={class:"item-data-text"};function Z(e,t,a,n,c,o){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[$,Object(i["createElementVNode"])("span",Y,Object(i["toDisplayString"])(e.item.data.name),1),Object(i["createElementVNode"])("span",J,Object(i["toDisplayString"])(e.translate("General_Period"))+":",1),Object(i["createElementVNode"])("span",K,Object(i["toDisplayString"])(e.item.data.period),1),Object(i["createElementVNode"])("span",Q,Object(i["toDisplayString"])(e.translate("General_Report"))+":",1),Object(i["createElementVNode"])("span",X,Object(i["toDisplayString"])(e.item.data.report),1)],64)}var ee=Object(i["defineComponent"])({props:{item:{type:Object,required:!0}}});ee.render=Z;var te=ee,ae=Object(i["createElementVNode"])("span",{class:"item-data-title icon-segment"},null,-1),ne={class:"item-name"},ce=Object(i["createElementVNode"])("span",{class:"item-data-title"},null,-1),ie={class:"item-data-text"};function oe(e,t,a,n,c,o){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[ae,Object(i["createElementVNode"])("span",ne,Object(i["toDisplayString"])(e.item.data.name),1),ce,Object(i["createElementVNode"])("span",ie,Object(i["toDisplayString"])(e.trackingScopeText),1)],64)}var re=Object(i["defineComponent"])({props:{item:{type:Object,required:!0}},computed:{trackingScopeText:function(){var e=this.item.data.scope;return e="".concat(e.substr(0,1).toUpperCase()).concat(e.substr(1)),Object(S["translate"])("General_TrackingScope".concat(e))}}});re.render=oe;var le=re,se=Object(i["createElementVNode"])("span",{class:"item-data-title icon-reporting-goal"},null,-1),me={class:"item-name"},de={key:0},pe={class:"item-data-title"},be={class:"item-data-text"};function ue(e,t,a,n,c,o){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[se,Object(i["createElementVNode"])("span",me,Object(i["toDisplayString"])(e.item.data.name),1),e.item.data.revenue&&"0"!==e.item.data.revenue?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",de,[Object(i["createElementVNode"])("span",pe,Object(i["toDisplayString"])(e.translate("General_ColumnRevenue"))+":",1),Object(i["createElementVNode"])("span",be,Object(i["toDisplayString"])(e.item.data.revenue),1)])):Object(i["createCommentVNode"])("",!0)],64)}var je=Object(i["defineComponent"])({props:{item:{type:Object,required:!0}}});je.render=ue;var Oe=je,ye={class:"item-name"},ve=Object(i["createElementVNode"])("span",{class:"item-icon icon-open-source"},null,-1),ge={class:"item-data-title"},fe={class:"item-data-text"},ke={class:"item-data-title"},he={class:"item-data-text"},Ee={key:0},Se={class:"item-data-title"},Ne={class:"item-data-text"};function Be(e,t,a,n,c,o){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[Object(i["createElementVNode"])("span",ye,[ve,Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(e.item.data.name),1)]),Object(i["createElementVNode"])("span",ge,Object(i["toDisplayString"])(e.translate("SitesManager_Type"))+":",1),Object(i["createElementVNode"])("span",fe,Object(i["toDisplayString"])(e.item.data.type),1),Object(i["createElementVNode"])("span",ke,Object(i["toDisplayString"])(e.translate("ActivityLog_SiteID"))+":",1),Object(i["createElementVNode"])("span",he,Object(i["toDisplayString"])(e.item.data.id),1),e.item.data.urls.length>0&&""!==e.item.data.urls.join("")?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Ee,[Object(i["createElementVNode"])("span",Se,Object(i["toDisplayString"])(e.translate("SitesManager_Urls"))+":",1),Object(i["createElementVNode"])("span",Ne,Object(i["toDisplayString"])(e.item.data.urls.join(", ")),1)])):Object(i["createCommentVNode"])("",!0)],64)}var Ve=Object(i["defineComponent"])({props:{item:{type:Object,required:!0}}});Ve.render=Be;var Ce=Ve,De=Object(i["createElementVNode"])("span",{class:"item-data-title icon-admin-development"},null,-1),_e={class:"item-name"},we={class:"item-data-text"},Ae={key:0},xe={key:1},Le={key:2},Pe={key:3},Fe={key:4};function Te(e,t,a,n,c,o){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[De,Object(i["createElementVNode"])("span",_e,Object(i["toDisplayString"])(e.translate("General_Plugin"))+" "+Object(i["toDisplayString"])(e.item.data.name)+":",1),Object(i["createElementVNode"])("span",we,[!0===e.item.data.active?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Ae,Object(i["toDisplayString"])(e.translate("CorePluginsAdmin_Active")),1)):Object(i["createCommentVNode"])("",!0),!1===e.item.data.active?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",xe,Object(i["toDisplayString"])(e.translate("CorePluginsAdmin_Inactive")),1)):Object(i["createCommentVNode"])("",!0),!0===e.item.data.installed?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Le,Object(i["toDisplayString"])(e.translate("General_Installed")),1)):Object(i["createCommentVNode"])("",!0),!1===e.item.data.installed?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Pe,Object(i["toDisplayString"])(e.translate("General_NotInstalled")),1)):Object(i["createCommentVNode"])("",!0),e.item.data.version?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Fe,Object(i["toDisplayString"])(e.translate("CorePluginsAdmin_Version"))+" "+Object(i["toDisplayString"])(e.item.data.version),1)):Object(i["createCommentVNode"])("",!0)])],64)}var Ie=Object(i["defineComponent"])({props:{item:{type:Object,required:!0}}});Ie.render=Te;var Me=Ie,Ue=Object(i["createElementVNode"])("span",{class:"item-data-title icon-table"},null,-1),Ge={class:"item-name"},qe={class:"item-data-title"},ze={class:"item-data-text"},He={class:"item-data-title"},Re={class:"item-data-text"},We={class:"item-data-title"},$e={class:"item-data-text"};function Ye(e,t,a,n,c,o){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[Ue,Object(i["createElementVNode"])("span",Ge,Object(i["toDisplayString"])(e.item.data.description),1),Object(i["createElementVNode"])("span",qe,Object(i["toDisplayString"])(e.translate("Live_GoalType"))+":",1),Object(i["createElementVNode"])("span",ze,Object(i["toDisplayString"])(e.item.data.type),1),Object(i["createElementVNode"])("span",He,Object(i["toDisplayString"])(e.translate("ScheduledReports_ReportFormat"))+":",1),Object(i["createElementVNode"])("span",Re,Object(i["toDisplayString"])(e.item.data.format),1),Object(i["createElementVNode"])("span",We,Object(i["toDisplayString"])(e.translate("General_Period"))+":",1),Object(i["createElementVNode"])("span",$e,Object(i["toDisplayString"])(e.item.data.period),1)],64)}var Je=Object(i["defineComponent"])({props:{item:{type:Object,required:!0}}});Je.render=Ye;var Ke=Je,Qe={class:"item-name"},Xe=Object(i["createElementVNode"])("span",{class:"item-icon icon-open-source"},null,-1),Ze={class:"item-data-title"},et={class:"item-data-text"};function tt(e,t,a,n,c,o){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[Object(i["createElementVNode"])("span",Qe,[Xe,Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.item.data.name),1)]),Object(i["createElementVNode"])("span",Ze,Object(i["toDisplayString"])(e.translate("ReferrersManager_Hostname"))+":",1),Object(i["createElementVNode"])("span",et,Object(i["toDisplayString"])(e.item.data.host),1)],64)}var at=Object(i["defineComponent"])({props:{item:{type:Object,required:!0}}});at.render=tt;var nt=at,ct=Object(i["createElementVNode"])("span",{class:"item-data-title icon-segment"},null,-1),it={class:"item-name"},ot={class:"item-data-title"},rt={class:"item-data-text"};function lt(e,t,a,n,c,o){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[ct,Object(i["createElementVNode"])("span",it,Object(i["toDisplayString"])(e.item.data.name),1),Object(i["createElementVNode"])("span",ot,Object(i["toDisplayString"])(e.translate("General_Segment"))+":",1),Object(i["createElementVNode"])("span",rt,Object(i["toDisplayString"])(e.item.data.definition),1)],64)}var st=Object(i["defineComponent"])({props:{item:{type:Object,required:!0}}});st.render=lt;var mt=st,dt=Object(i["createElementVNode"])("span",{class:"item-data-title icon-admin-settings"},null,-1),pt={class:"item-name"},bt={class:"item-data-text"},ut={key:0},jt={key:1},Ot={key:2},yt={key:3};function vt(e,t,a,n,c,o){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[dt,Object(i["createElementVNode"])("span",pt,Object(i["toDisplayString"])(e.item.data.name)+":",1),Object(i["createElementVNode"])("span",bt,[!0===e.item.data.value?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",ut,Object(i["toDisplayString"])(e.translate("General_Yes")),1)):Object(i["createCommentVNode"])("",!0),!1===e.item.data.value?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",jt,Object(i["toDisplayString"])(e.translate("General_No")),1)):Object(i["createCommentVNode"])("",!0),e.item.data.value||0===e.item.data.value||!1===e.item.data.value?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Ot,Object(i["toDisplayString"])(e.translate("ActivityLog_NoValueSet")),1)),e.showItemValue?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",yt,Object(i["toDisplayString"])(e.item.data.value),1)):Object(i["createCommentVNode"])("",!0)])],64)}var gt=Object(i["defineComponent"])({props:{item:{type:Object,required:!0}},computed:{showItemValue:function(){return!!this.item.data.value!==this.item.data.value&&(this.item.data.value||0===this.item.data.value)}}});gt.render=vt;var ft=gt,kt={class:"item-name"},ht=Object(i["createElementVNode"])("span",{class:"item-icon icon-open-source"},null,-1),Et={class:"item-data-title"},St={class:"item-data-text"};function Nt(e,t,a,n,c,o){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[Object(i["createElementVNode"])("span",kt,[ht,Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.item.data.name),1)]),Object(i["createElementVNode"])("span",Et,Object(i["toDisplayString"])(e.translate("ReferrersManager_Hostname"))+":",1),Object(i["createElementVNode"])("span",St,Object(i["toDisplayString"])(e.item.data.host),1)],64)}var Bt=Object(i["defineComponent"])({props:{item:{type:Object,required:!0}}});Bt.render=Nt;var Vt=Bt,Ct={class:"item-name"},Dt=Object(i["createElementVNode"])("span",{class:"item-icon icon-user-personal"},null,-1),_t={class:"item-data-title"},wt={class:"item-data-text"};function At(e,t,a,n,c,o){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[Object(i["createElementVNode"])("span",Ct,[Dt,Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.item.data.login),1)]),Object(i["createElementVNode"])("span",_t,Object(i["toDisplayString"])(e.translate("UsersManager_Email"))+":",1),Object(i["createElementVNode"])("span",wt,Object(i["toDisplayString"])(e.item.data.email),1)],64)}var xt=Object(i["defineComponent"])({props:{item:{type:Object,required:!0}}});xt.render=At;var Lt=xt,Pt=Object(i["createElementVNode"])("span",{class:"item-data-title icon-table"},null,-1),Ft={class:"item-name"},Tt=Object(i["createElementVNode"])("br",null,null,-1),It={class:"item-data-text"},Mt={key:0,class:"item-data-title"},Ut={key:1,class:"item-data-text"},Gt={key:2},qt={key:3,class:"item-data-title"},zt={key:4,class:"item-data-text"},Ht={key:5},Rt={key:6,class:"item-data-title"},Wt={key:7,class:"item-data-text"},$t={key:8},Yt={key:9,class:"item-data-title"},Jt={key:10,class:"item-data-text"},Kt={key:11},Qt={key:12,class:"item-data-title"},Xt={key:13,class:"item-data-text"},Zt={key:14},ea={key:15,class:"item-data-title"},ta={key:16,class:"item-data-text"},aa={key:17},na={key:18,class:"item-data-title"},ca={key:19,class:"item-data-text"},ia={key:20},oa={key:21,class:"item-data-title"},ra={key:22,class:"item-data-text"};function la(e,t,a,n,c,o){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[Pt,Object(i["createElementVNode"])("span",Ft,Object(i["toDisplayString"])(e.translate("ActivityLog_InvalidateReports"))+":",1),Tt,Object(i["createElementVNode"])("span",It,[e.item.data.idSites?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Mt,Object(i["toDisplayString"])(e.translate("ActivityLog_SiteIDs"))+":",1)):Object(i["createCommentVNode"])("",!0),e.item.data.idSites?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Ut,Object(i["toDisplayString"])(e.item.data.idSites),1)):Object(i["createCommentVNode"])("",!0),e.item.data.idSites?(Object(i["openBlock"])(),Object(i["createElementBlock"])("br",Gt)):Object(i["createCommentVNode"])("",!0),e.item.data.dates?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",qt,Object(i["toDisplayString"])(e.translate("ActivityLog_Dates"))+":",1)):Object(i["createCommentVNode"])("",!0),e.item.data.dates?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",zt,Object(i["toDisplayString"])(e.item.data.dates),1)):Object(i["createCommentVNode"])("",!0),e.item.data.dates?(Object(i["openBlock"])(),Object(i["createElementBlock"])("br",Ht)):Object(i["createCommentVNode"])("",!0),e.showItemField(e.item.data.period)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Rt,Object(i["toDisplayString"])(e.translate("General_Period"))+": ",1)):Object(i["createCommentVNode"])("",!0),e.showItemField(e.item.data.period)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Wt,Object(i["toDisplayString"])(e.item.data.period),1)):Object(i["createCommentVNode"])("",!0),e.showItemField(e.item.data.period)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("br",$t)):Object(i["createCommentVNode"])("",!0),e.showItemField(e.item.data.segment)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Yt,Object(i["toDisplayString"])(e.translate("General_Segment"))+": ",1)):Object(i["createCommentVNode"])("",!0),e.showItemField(e.item.data.segment)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Jt,Object(i["toDisplayString"])(e.item.data.segment),1)):Object(i["createCommentVNode"])("",!0),e.showItemField(e.item.data.segment)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("br",Kt)):Object(i["createCommentVNode"])("",!0),e.showItemField(e.item.data.cascadeDown)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Qt,Object(i["toDisplayString"])(e.translate("ActivityLog_CascadeDown"))+": ",1)):Object(i["createCommentVNode"])("",!0),e.showItemField(e.item.data.cascadeDown)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Xt,Object(i["toDisplayString"])(e.item.data.cascadeDown),1)):Object(i["createCommentVNode"])("",!0),e.showItemField(e.item.data.cascadeDown)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("br",Zt)):Object(i["createCommentVNode"])("",!0),e.showItemField(e.item.data._forceInvalidateNonexistent)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",ea,Object(i["toDisplayString"])(e.translate("ActivityLog_ForceInvalidate"))+": ",1)):Object(i["createCommentVNode"])("",!0),e.showItemField(e.item.data._forceInvalidateNonexistent)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",ta,Object(i["toDisplayString"])(e.item.data._forceInvalidateNonexistent),1)):Object(i["createCommentVNode"])("",!0),e.showItemField(e.item.data._forceInvalidateNonexistent)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("br",aa)):Object(i["createCommentVNode"])("",!0),e.showItemField(e.item.data.plugin)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",na,Object(i["toDisplayString"])(e.translate("ActivityLog_Plugin"))+": ",1)):Object(i["createCommentVNode"])("",!0),e.showItemField(e.item.data.plugin)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",ca,Object(i["toDisplayString"])(e.item.data.plugin),1)):Object(i["createCommentVNode"])("",!0),e.showItemField(e.item.data.plugin)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("br",ia)):Object(i["createCommentVNode"])("",!0),e.showItemField(e.item.data.ignoreLogDeletionLimit)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",oa,Object(i["toDisplayString"])(e.translate("ActivityLog_IgnoreLogDeletionLimit"))+": ",1)):Object(i["createCommentVNode"])("",!0),e.showItemField(e.item.data.ignoreLogDeletionLimit)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",ra,Object(i["toDisplayString"])(e.item.data.ignoreLogDeletionLimit),1)):Object(i["createCommentVNode"])("",!0)])],64)}var sa=Object(i["defineComponent"])({props:{item:{type:Object,required:!0}},methods:{showItemField:function(e){return!!e||!1===e}}});sa.render=la;var ma=sa;function da(e){return ja(e)||ua(e)||ba(e)||pa()}function pa(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ba(e,t){if(e){if("string"===typeof e)return Oa(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Oa(e,t):void 0}}function ua(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ja(e){if(Array.isArray(e))return Oa(e)}function Oa(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function ya(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function va(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ga(e,t,a){return t&&va(e.prototype,t),a&&va(e,a),e}function fa(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}
/**
 * Copyright (C) InnoCraft Ltd - All rights reserved.
 *
 * NOTICE:  All information contained herein is, and remains the property of InnoCraft Ltd.
 * The intellectual and technical concepts contained herein are protected by trade secret
 * or copyright law. Redistribution of this information or reproduction of this material is
 * strictly forbidden unless prior written permission is obtained from InnoCraft Ltd.
 *
 * You shall use this code only in accordance with the license agreement obtained from
 * InnoCraft Ltd.
 *
 * @link https://www.innocraft.com/
 * @license For license details see https://www.innocraft.com/license
 */var ka=function(){function e(){var t=this;ya(this,e),fa(this,"privateState",Object(i["reactive"])({activities:[],searchTerm:"",busy:!1,pageSize:10,currentPage:0,offsetStart:0,offsetEnd:10,hasPrev:!1,hasNext:!1,totalNumberOfSites:0,availableUsers:[],filter:{userLogin:"",activityType:""}})),fa(this,"state",Object(i["computed"])((function(){return Object(i["readonly"])(t.privateState)})))}return ga(e,[{key:"init",value:function(){var e=[];return e.push(this.fetchActivityCount()),S["Matomo"].hasSuperUserAccess?e.push(this.fetchAvailableUsers()):this.privateState.availableUsers=[{key:S["Matomo"].userLogin,value:S["Matomo"].userLogin}],Promise.all(e)}},{key:"fetchActivityCount",value:function(){var e=this;return S["AjaxHelper"].fetch({method:"ActivityLog.getEntryCount",filterByUserLogin:this.state.value.filter.userLogin,filterByActivityType:this.state.value.filter.activityType}).then((function(t){t&&t.value&&(e.privateState.totalNumberOfSites=t.value)}))}},{key:"fetchAvailableUsers",value:function(){var e=this;return S["AjaxHelper"].fetch({method:"UsersManager.getUsersLogin",filter_limit:-1}).then((function(t){if(t&&Array.isArray(t)){var a=[{key:"",value:Object(S["translate"])("General_All")},{key:"Console Command",value:Object(S["translate"])("ActivityLog_ConsoleCommand")},{key:"Matomo System",value:Object(S["translate"])("ActivityLog_System")}].concat(da(t.map((function(e){return{key:e,value:e}}))));e.privateState.availableUsers=a}}))}},{key:"onError",value:function(){this.setActivities([])}},{key:"setActivities",value:function(e){this.privateState.activities=e;var t=e.length;this.privateState.offsetStart=this.state.value.currentPage*this.state.value.pageSize,this.privateState.offsetEnd=this.state.value.offsetStart+t,this.privateState.hasPrev=this.state.value.currentPage>=1,this.privateState.hasNext=t===this.state.value.pageSize}},{key:"setCurrentPage",value:function(e){this.privateState.currentPage=e<0?0:e}},{key:"previousPage",value:function(){this.setCurrentPage(this.state.value.currentPage-1),this.fetchActivityLog()}},{key:"nextPage",value:function(){this.setCurrentPage(this.state.value.currentPage+1),this.fetchActivityLog()}},{key:"applyFilter",value:function(e){e&&(this.privateState.filter.userLogin=e),this.privateState.currentPage=0,this.fetchActivityCount(),this.fetchActivityLog()}},{key:"fetchActivityLog",value:function(){var e=this;if(this.privateState.busy)return Promise.resolve();this.privateState.busy=!0;var t=this.privateState.pageSize,a=this.privateState.currentPage*this.privateState.pageSize;return S["AjaxHelper"].fetch({method:"ActivityLog.getEntries",offset:a,limit:t,filterByUserLogin:this.privateState.filter.userLogin,filterByActivityType:this.privateState.filter.activityType}).then((function(t){t?e.setActivities(t):e.onError()})).catch((function(){return e.onError()})).finally((function(){e.privateState.busy=!1}))}}]),e}(),ha=new ka,Ea={class:"paging"},Sa=["disabled"],Na={style:{cursor:"pointer"}},Ba={class:"counter"},Va={key:0},Ca={key:1},Da=["disabled"],_a={style:{cursor:"pointer"},class:"pointer"},wa={class:"loadingPiwik"},Aa=["alt"],xa=Object(i["createElementVNode"])("span",{class:"icon icon-reload"},null,-1),La={style:{"margin-right":"3.5px"}},Pa=["value","selected","disabled","label"];function Fa(e,t,a,n,c,o){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[Object(i["withDirectives"])(Object(i["createElementVNode"])("div",Ea,[Object(i["createElementVNode"])("a",{class:"btn prev",disabled:!e.hasPrev||void 0,onClick:t[0]||(t[0]=function(t){return e.previousPage()}),style:{"margin-right":"3.5px"}},[Object(i["createElementVNode"])("span",Na,"« "+Object(i["toDisplayString"])(e.translate("General_Previous")),1)],8,Sa),Object(i["withDirectives"])(Object(i["createElementVNode"])("span",Ba,[e.searchTerm?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Va,Object(i["toDisplayString"])(e.translate("General_PaginationWithoutTotal",e.offsetStart,e.offsetEnd)),1)):Object(i["createCommentVNode"])("",!0),e.searchTerm?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Ca,Object(i["toDisplayString"])(e.translate("General_Pagination",e.offsetStart,e.offsetEnd,e.totalNumberOfSites)),1))],512),[[i["vShow"],e.hasPrev||e.hasNext]]),Object(i["createElementVNode"])("a",{class:"btn next",disabled:!e.hasNext||void 0,onClick:t[1]||(t[1]=function(t){return e.nextPage()}),style:{"margin-left":"3.5px"}},[Object(i["createElementVNode"])("span",_a,Object(i["toDisplayString"])(e.translate("General_Next"))+" »",1)],8,Da)],512),[[i["vShow"],e.showPaging]]),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",wa,[Object(i["createElementVNode"])("img",{src:"plugins/Morpheus/images/loading-blue.gif",alt:e.translate("General_LoadingData")},null,8,Aa),Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(e.translate("General_LoadingData")),1)],512),[[i["vShow"],e.busy]]),Object(i["createElementVNode"])("a",{class:"btn reload",onClick:t[2]||(t[2]=function(t){return e.applyFilter()})},[xa,Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(e.translate("General_Refresh")),1)]),Object(i["createElementVNode"])("div",{class:"user-filter",style:Object(i["normalizeStyle"])({visibility:e.hasSuperUserAccess?"visible":"hidden"})},[Object(i["createElementVNode"])("span",La,Object(i["toDisplayString"])(e.translate("ActivityLog_FilterByUser"))+":",1),Object(i["createElementVNode"])("select",{onChange:t[3]||(t[3]=function(t){return e.applyFilter(t.target.value)}),class:"browser-default"},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.availableUsers,(function(t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("option",{key:t.key,value:t.key,selected:e.userLoginFilter===t.key,disabled:t.disabled,label:t.key},Object(i["toDisplayString"])(t.value),9,Pa)})),128))],32)],4)],64)}var Ta=Object(i["defineComponent"])({props:{},methods:{previousPage:function(){ha.previousPage()},nextPage:function(){ha.nextPage()},applyFilter:function(e){ha.applyFilter(e)}},computed:{hasSuperUserAccess:function(){return S["Matomo"].hasSuperUserAccess},hasPrev:function(){return ha.state.value.hasPrev},hasNext:function(){return ha.state.value.hasNext},showPaging:function(){return!ha.state.value.busy&&(this.hasPrev||this.hasNext)},searchTerm:function(){return ha.state.value.searchTerm},offsetStart:function(){return ha.state.value.offsetStart},offsetEnd:function(){return ha.state.value.offsetEnd},totalNumberOfSites:function(){return ha.state.value.totalNumberOfSites},busy:function(){return ha.state.value.busy},userLoginFilter:function(){return ha.state.value.filter.userLogin},availableUsers:function(){return ha.state.value.availableUsers}}});Ta.render=Fa;var Ia=Ta,Ma={access:x,annotation:U,capability:W,customalert:te,customdimension:le,goal:Oe,measurable:Ce,plugin:Me,scheduledreport:Ke,searchengine:nt,segment:mt,setting:ft,social:Vt,user:Lt,reportsinvalidated:ma},Ua=Object(i["defineComponent"])({props:{showPagingBottom:Boolean},components:{Paging:Ia},data:function(){return{showTimezone:{}}},created:function(){ha.init(),ha.fetchActivityLog()},methods:{applyFilter:function(e){ha.applyFilter(e)},getActivityCountryTooltip:function(e){return e.ip?Object(S["translate"])("ActivityLog_UserCountryWithIP",e.country_name,e.ip):Object(S["translate"])("ActivityLog_UserCountry",e.country_name)}},computed:{hasSuperUserAccess:function(){return S["Matomo"].hasSuperUserAccess},busy:function(){return ha.state.value.busy},activities:function(){return ha.state.value.activities},userLoginFilter:function(){return ha.state.value.filter.userLogin},availableUsers:function(){return ha.state.value.availableUsers},itemToComponent:function(){return Ma}}});Ua.render=E;var Ga=Ua,qa={key:0},za={key:1},Ha={class:"ActivityLogContainer"};function Ra(e,t,a,n,c,o){var r=Object(i["resolveComponent"])("ActivityLog"),l=Object(i["resolveComponent"])("ContentBlock");return Object(i["openBlock"])(),Object(i["createBlock"])(l,{"content-title":e.translate("ActivityLog_ActivityLog"),feature:"true"},{default:Object(i["withCtx"])((function(){return[e.isSuperUser?(Object(i["openBlock"])(),Object(i["createElementBlock"])("p",qa," With the Activity Log, also known as audit log or audit trail, you keep an eye on everything that is happening on your Matomo. Below you see a record of all important activities performed by your Matomo users. It helps you for example to monitor data for any potential security breach and to identify problems, why something happened and when. ")):(Object(i["openBlock"])(),Object(i["createElementBlock"])("p",za," With the Activity Log, also known as audit log or audit trail, you keep an eye on all of your activities in Matomo. ")),Object(i["createElementVNode"])("div",Ha,[Object(i["createVNode"])(r,{"show-paging-bottom":e.showPagingBottom},null,8,["show-paging-bottom"])])]})),_:1},8,["content-title"])}var Wa=Object(i["defineComponent"])({props:{showPagingBottom:Boolean,isSuperUser:Boolean},components:{ActivityLog:Ga,ContentBlock:S["ContentBlock"]}});Wa.render=Ra;var $a=Wa;
/**
 * Copyright (C) InnoCraft Ltd - All rights reserved.
 *
 * NOTICE:  All information contained herein is, and remains the property of InnoCraft Ltd.
 * The intellectual and technical concepts contained herein are protected by trade secret
 * or copyright law. Redistribution of this information or reproduction of this material is
 * strictly forbidden unless prior written permission is obtained from InnoCraft Ltd.
 *
 * You shall use this code only in accordance with the license agreement obtained from
 * InnoCraft Ltd.
 *
 * @link https://www.innocraft.com/
 * @license For license details see https://www.innocraft.com/license
 */}})}));
//# sourceMappingURL=ActivityLog.umd.min.js.map